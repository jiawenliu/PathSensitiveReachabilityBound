\begin{example}[A Variation of The Nested Loop with Related Iterator]
    \label{ex:threeNestedWhileII}
    
    % $N < m < n$\\
    %
    % \[
    % %
    % \begin{array}{l}
    %     \kw{threeNestedWhileII}(k, m, N) \triangleq \\
    %     \clabel{ \assign{i}{0} }^{0} ; \\
    %         \ewhile ~ \clabel{i < k}^{1} ~ \edo ~ \\
    %         \qquad \Big(
    %          \highlight{\clabel{\assign{j}{i}}^{4}} ;\\
    %          \qquad \ewhile ~ \clabel{j > 0}^{5} ~ \edo ~ \\
    %          \qquad \qquad \Big(
    %           \clabel{\assign{j}{j-1}}^{6};
    %           \highlight{\clabel{\assign{w}{j}}^{6}};\\
    %           \qquad \qquad \ewhile ~ \clabel{w < N}^{5} ~ \edo ~
    %           \Big(
    %             \clabel{\assign{w}{w + 1}}^{6}
    %               \Big); \\
    %               \qquad \qquad \clabel{\assign{i}{w}}^{3}
    %               \Big); \\
    %               \qquad \clabel{\assign{i}{i+1}}^{3}
    %           \Big)
    %     \end{array}
    % \]
    {\small
  \begin{figure}
  \centering
  \begin{subfigure}{.4\textwidth}
    \begin{centering}
    {\small
    $
    \begin{array}{l}
        \kw{relatedNestedWhileII}(n, m, N) \triangleq \\
        \clabel{ \assign{i}{0} }^{0} ; \\
            \ewhile ~ \clabel{i < n}^{1} ~ \edo ~ \\
            \qquad \Big(
             \highlight{\clabel{\assign{j}{i}}^{2}} ;\\
             \qquad \ewhile ~ \clabel{j > 0}^{3} ~ \edo ~ \\
             \qquad \qquad \Big(
              \clabel{\assign{j}{j-1}}^{4};
              \highlight{\clabel{\assign{w}{j}}^{5}};\\
              \qquad \qquad \ewhile ~ \clabel{w < N}^{6} ~ \edo ~
              \Big(
                \clabel{\assign{w}{w + 1}}^{7}
                  \Big); \\
                  \qquad \qquad \clabel{\assign{i}{w}}^{8}
                  \Big); \\
                  \qquad \clabel{\assign{i}{i+1}}^{9}
              \Big)
      \end{array}
    $
    }
    \caption{}
    \end{centering}
    \end{subfigure}
  \begin{subfigure}{.5\textwidth}
    \begin{centering}
  %   \todo{abstract-cfg for two round}
  \begin{tikzpicture}[scale=\textwidth/20cm,samples=200]
    \draw[] (-7, 10) circle (0pt) node{{ $0$}};
    \draw[] (0, 10) circle (0pt) node{{ $1$}};
    \draw[] (6, 10) circle (0pt) node {{$\lex$}};
    \draw[] (0, 7) circle (0pt) node{{$2$}};
    \draw[] (0, 4) circle (0pt) node{{ $3$}};
    \draw[] (-7, 4) circle (0pt) node{{ $9$}};
    \draw[] (0, 1) circle (0pt) node{{ $4$}};
    \draw[] (3, 1) circle (0pt) node{{ $5$}};
    \draw[] (6, 1) circle (0pt) node{{ $6$}};
    \draw[] (9, 1) circle (0pt) node{{ $7$}};
    \draw[] (5, 6) circle (0pt) node{{ $8$}};
    % Counter Variables
    %
    % Control Flow Edges:
    \draw[ thick, -latex] (-6, 10)  -- node [above] {$i' \leq 0$}(-0.5, 10);
    \draw[ thick, -latex] (0, 9.5)  -- node [left] {$i' < n$} (0, 7.5) ;
    \draw[ thick, -latex] (0, 6.5)  -- node [left] {\highlight{$j' \leq i$}} (0, 4.5) ;
    \draw[ thick, -latex] (0, 3.5)  -- node [left] {$j > 0$} (0, 1.5) ;
    \draw[ thick, -latex] (-0.5, 4)  -- node [below] {$j \leq 0$} (-6.5, 4) ;
    \draw[ thick, -latex] (-6.5, 4.5)  to  [out=90,in=180]  node [left] {$i' \leq i + 1$ }(-0.5, 9.5);
    \draw[ thick, -latex] (0.5, 10)  -- node [above] {$i \geq n$}  (5, 10);
    \draw[ thick, -latex] (0.5, 1)  -- node [below] {$j' \leq j - 1$}  (2.5, 1);
    \draw[ thick, -latex] (3.5, 1)  -- node [above] {\highlight{$w' \leq j$}}  (5.5, 1);
    \draw[ thick, -latex] (6.5, 1)  -- node [below] {$w < N$}  (8.5, 1);
    \draw[ thick, -latex] (6, 1.5)  to [out=90,in=-60] node [right] {$w \geq N$}  (5, 5.5);
    \draw[ thick, -latex] (9, 1.5)  to  [out=120,in=30] node [right] {$w' \leq w + 1$}  (6, 1.5);
    \draw[ thick, -latex] (5, 5.5)  to  node [above] {$i' \leq k$ }(0.5, 4);
    \end{tikzpicture}
  \caption{}
    \end{centering}
    \end{subfigure}
  \caption{
  (a) The Variation Example of Nested Loop with Related Iterator
    (b) The Abstract Execution Control Flow Graph}
      \label{fig:threeNestedWhileII}
  \end{figure}
  }
\end{example}

\begin{enumerate}
  \item  \textbf{The Constraint Program (Abstract Control Flow Graph)} is generated in Figure~\ref{fig:threeNestedWhileII}(b).

  \item \textbf{Program Refinement}
\\
The loop free simple transition paths are computed as follows,
\\
$\tpath_0 = (0 \to 1)$
\\
$\tpath_1 = (1 \to 2 \to 3)$
\\
$\tpath_2 = (3 \to 4 \to 5 \to 6)$
\\
$\tpath_3 = (6 \to 7 \to 6)$
\\
$\tpath_4 = (6 \to 8 \to 3)$
\\
$\tpath_5 = (3 \to 9 \to 1)$
\\
$\tpath_6 = (1 \to \lex)$
\\
\textbf{Refined Program}:
\[
  \rprog = \tpath_0 ; 1: \rprepeat(\tpath_1; 3: \rprepeat(\tpath_2; 6 : \rprepeat(\tpath_3); \tpath_4); \tpath_5); \tpath_6
\]
\item \textbf{Outside-In Algorithm} :The \emph{OutIn} bound for the $\rprog$ and every nested repeat patterns.
\\
$\outinB(\tpath_0) = 1$
\\
$\outinB(6 : \rprepeat(\tpath_3)) = N $
\\
$\outinB(3: \rprepeat(\tpath_2; 6 : \rprepeat(\tpath_3); \tpath_4)) = m $
\\
$\outinB(1: \rprepeat(\tpath_1; 3: \rprepeat(\tpath_2; 6 : \rprepeat(\tpath_3); \tpath_4); \tpath_5)) = n - N $
\item \textbf{Inside-Out Algorithm}
\begin{itemize}
    \item \textbf{Repeat Chain Set}
    \\
    $\rpchset(1, \tpath_1) = \{1: \rprepeat(\tpath_1; 3: \rprepeat(\tpath_2; 6 : \rprepeat(\tpath_3); \tpath_4); \tpath_5)\}$
    \\
    $\rpchset(1, \tpath_5) = \{1: \rprepeat(\tpath_1; 3: \rprepeat(\tpath_2; 6 : \rprepeat(\tpath_3); \tpath_4); \tpath_5)\}$
    \\
    $\rpchset(3, \tpath_2) = \{3: \rprepeat(\tpath_2; 6 : \rprepeat(\tpath_3); \tpath_4)\}$
    \\
    $\rpchset(3, \tpath_4) = \{3: \rprepeat(\tpath_2; 6 : \rprepeat(\tpath_3); \tpath_4)\}$
    \\
    $\rpchset(6, \tpath_3) = \{6: \rprepeat(\tpath_3)\}$
    \\
    $\rpchset(_, \_) = \emptyset$ 
      % \\
    \item \textbf{Repeat Chain Bound} for every simple transition path $\tpath$ through its \emph{Repeat Chain}s
    \\
    $\rpchB(1, \tpath_1) = n - N$ \\
    $\rpchB(1, \tpath_5) = n - N$ \\
    $\rpchB(3, \tpath_2) = m$ \\
    $\rpchB(3, \tpath_4) = m$ \\
    $\rpchB(6, \tpath_3) = N$ \\
    $\rpchB(_, \_) = \bot $ 
    %
    \item \textbf{Loop Chain}
    \\
    $\lpch(\tpath_1) = 1\to \tpath_1$ \quad
    $\lpch(\tpath_2) = 1 \to 3 \to \tpath_2$ \\
    $\lpch(\tpath_5) = 1\to \tpath_5$ \quad
    $\lpch(\tpath_4) = 1 \to 3 \to \tpath_4$ \\
    \highlight
    {$\lpch(\tpath_3) = 1 \to 3 \to 5 \to \tpath_3$ }\\
    $\lpch(\tpath_0) = \tpath_0$ \quad
    $\lpch(\tpath_6) = \tpath_6$ 
      \item \textbf{{Relative Loop Bound}} for every simple transition path $\tpath$ through its \emph{Loop Chain}
    \\
    $\rpchB(1, \tpath_1) = n - N$ \\
    $\rpchB(1, \tpath_5) = n - N$ \\
    \highlight{$\rpchB(1, \tpath_2) = m - N$;} \quad  $\rpchB(3, \tpath_2) = m$; \\
    \highlight{$\rpchB(1, \tpath_4) = m - N$;} \quad $\rpchB(3, \tpath_4) = m$ \\
    \highlight{ $\rpchB(1, \tpath_3) = 1$;} \quad $\rpchB(3, \tpath_3) = N$; \quad $\rpchB(6, \tpath_3) = N$ \\
    $\rpchB(_, \_) = \bot $ 
    \item \textbf{Path-Sensitive Reachability-Bound} for every simple transition path $\tpath$
    \\
    $\inoutB(\tpath_1) = n - N$ \\
    $\inoutB(\tpath_5) = n - N$ \\
    \highlight{    
    $\inoutB(\tpath_2) = (m - N) \times m$ \\
    $\inoutB(\tpath_4) = (m - N) \times m$ \\}
    $\inoutB(\tpath_3) = N^2$ \\
    $\inoutB(\tpath_0) = 1$ \\
    $\inoutB(\tpath_6) = 1$ 
\end{itemize}
\item \textbf{Path Sensitive Reachability-Bound} on every program control location
\\
$\psRB(\{0, \lex\}) = 1$ \\
$\psRB(\{1\}) = n - N + 1$ \\
$\psRB(\{2, 9\}) = n - N$ \\
\highlight{
$\psRB(\{7\}) = N^2$ \\
$\psRB(\{4, 5, 8\}) = (m - N) \times m$ \\
$\psRB(\{ 6\}) = (m - N) \times m + N^2 + 1$ \\
$\psRB(\{3\}) = (m - N) \times m + n - N$ \\
}
\end{enumerate}