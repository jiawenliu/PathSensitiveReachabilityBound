\textbf{Computation Overview}
To solve the \emph{loop-reachability bound}, $\lpchB(l: \rprog, \tpath)$
  \\
  1. Compute the loop abstract states,
  $\rfinit(\rprog)$, $\rffinal(\rprog)$, $\rfnext(\rprog)$, $\varGD(\rprog, \rprog')$, 
  $\lpinit(l: \rprog, \tpath)$, and $\lpnext(l: \rprog, \tpath)$ using ranking function,
  as in Definition~\ref{def:alg-absstate}.
  \\
  3. Solve the equation using abstract states above and SMT solver.
  % \\
\begin{defn}[Loop Abstract States Computation]
    \label{def:alg-loopabsstate}
   The computations of 
   $\rfinit(\rprog)$, $\rffinal(\rprog)$, $\rfnext(\rprog)$, $\varGD(\rprog, \rprog')$, 
   $\lpinit(l: \rprog, \tpath)$, and $\lpnext(l: \rprog, \tpath) \in \mathcal{A}_{in}$
   are formally presented as follows.
   \begin{itemize}%
   \item 
The loop initial state 
$\lpinit(l: \rprog, \tpath) \in \inpexpr$ is symbolic expression as well. 
It describes the abstract initial value of $\tpath$'s ranking function before
any visit of $\tpath$ and during the first execution of $l: \rprog$.
\[
  \lpinit(l: \rprog, \tpath) \triangleq 
  \arg\max_{l_1}\left\{
       \varinvar(y) + v ~\middle\vert~ 
       \begin{array}{l} 
         (l_1, x' \leq y + v, l_2) \in \reset(x) 
         \\
         \land \absinit(\rprog) \leq l_1 \leq \absinit(\tpath)
       \end{array}
     \right\}
    , x = \locbound(\tpath)
  \]
\item
The loop next state 
$\lpnext(l: \rprog, \tpath) \in \inpexpr$ 
describes how much $\tpath$'s ranking function
is modified before
the second visit of $\tpath$ but during the second execution of $l: \rprog$.
\footnote{$l' \in \rprog$: the $\in$ notation is abused to denote
the program point $l'$ is a vertex on a path in the program $\rprog$.}
%
\[
  \begin{array}{l}
  \lpnext(l: \rprog, \tpath) \triangleq 
    \begin{array}{l}
  \sum\limits_{\absevent \in \inc(x) }
  \left\{ 
      v ~\middle\vert~ \absevent = (l', x' \leq x + v, \_) \land  l' \in \rprog 
      \land l' \notin \tpath \right\}
      \\ \qquad 
      + \arg\max\limits_{l_2 }
         \left\{ \varinvar(y) + v ~\middle\vert~ 
         (l_1, x' \leq y + v, l_2) \in \reset(x) \land l_1 \in \rprog \land l_1 \notin \tpath\right\}
     \\ \qquad 
      - \sum\limits_{ \absevent \in \dec(x) }\left\{ 
      v 
      ~\middle\vert~ \absevent = (l', x' \leq x + v, \_) \land l' \in \rprog \land l' \notin \tpath \right\}
      \\ \qquad 
      + \outinB(\tpath) \times \rfnext(\tpath)
    \end{array}
  \end{array}
  , x = \locbound(\tpath)
  \]
    \end{itemize}
\end{defn}



\begin{defn}[Loop Reachability Bound]
  \label{def:looprb}
  Loop Reachability Bound
  \[
    \lpchB(l: \rprog, \tpath) \triangleq
      \frac{\lpinit(l: \rprog, \tpath) - \rffinal(\tpath)}{\lpnext(l: \rprog, \tpath)}
  \]
\end{defn}

We show that $\lpchB(l: \rprog, \tpath)$
is a sound upper bound on iteration numbers of the outside loop $l$,
such that,
during these iterations, the nested loop $l' = \kw{enclosed(\tpath)}$ is executed, i.e., reached in Lemma~\ref{lem:looprb-sound} with proof in \todo{Appendix~\ref{apdx:looprb-sound}}.
\begin{lem}[Soundness of the Loop Reachability-Bound]
  \label{lem:looprb-sound}
  For any loop $l: \rprog$ and a simple transition path $\tpath$ in a refined program, if $l':\rprog'$ is the closest loop enclosing the $\tpath$, then the entering times of $l':\rprog'$ when executing the $l: \rprog$, is bounded by $\lpchB(l: \rprog, \tpath)$.
\end{lem}

$\lpchB(l:\rprog, \tpath)$ is over-approximated by
$I(l, l') = \kw{BOUNDFINDERD(INIT(c, i, \absinit(\tpath)), NEXT(c, i, \absinit(\tpath)), V_{\ln})}$ in paper\cite{GulwaniJK09}.
$I(l, l')$ computes the iteration numbers of $l'$ in one iteration of $l$.
