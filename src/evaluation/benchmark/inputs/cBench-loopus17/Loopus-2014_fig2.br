int nondet();

void fig2(int m) {
  int i = m;
  int n = 0;
  while(i > 0) {
    i--;
    if(nondet())
      n++;
    else
      while(n > 0 && nondet())
        n--;
  }
}

[ i <- m ] 0 ;
[ n <- 0 ] 1 ;
while [  > (i, 0) ] 2 do {
  [ i <- - ( i, 1 ) ] 3;
  if [ > ( a, b ) ] 4
  then { [ n <- + ( n, 1 ) ] 5 }
  else { 
         while [ > (n, 0)] 6 do
        {
          [ n <- - ( n, 1 ) ] 7
        }
 }
}
