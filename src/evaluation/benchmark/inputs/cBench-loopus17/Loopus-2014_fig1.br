int nondet();

void fig1(unsigned int n) {
  int a = n;
  int b = 0;
  while(a > 0) {
    a--;
    b++;
    while(b > 0) {
      b--;
      for(int i = n - 1; i > 0; i--)
        if(a > 0 && nondet()) {
          a--;
          b++;
        }
    }
  } 
}

[ a <- n ] 0 ;
[ b <- 0 ] 1 ;
while [  > (a, 0) ] 2 do {
  [ a <- - ( a, 1 ) ] 3;
  [ b <- + ( b, 1 ) ] 4;
  while [ > (b, 0)] 5 do
  {
    [ b <- - ( b, 1 ) ] 6;
    [ i <- - ( n, 1 ) ] 7;
    while [ > (i, 0) ] 8 do {
      if [ > ( a, 0 ) ] 9
      then { [ a <- - ( a, 1 ) ] 10;
             [ b <- + ( b, 1 ) ] 11 }
      else { [ skip ] 12 };
      [ i <- - ( i, 1 ) ] 13;     
    }
  }
}
